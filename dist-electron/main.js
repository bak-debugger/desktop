"use strict";const o=require("express"),t=o(),d=require("http"),r=d.createServer(t),{Server:l}=require("socket.io"),p=new l(r,{cors:{origin:"*"}}),{app:s,BrowserWindow:i}=require("electron"),n=()=>{const e=new i({width:1e3,height:800});process.env.VITE_DEV_SERVER_URL?e.loadURL(process.env.VITE_DEV_SERVER_URL):e.loadFile("../dist/index.html")};s.whenReady().then(()=>{n(),s.on("activate",()=>{i.getAllWindows().length===0&&n()})});s.on("window-all-closed",()=>{process.platform!=="darwin"&&s.quit()});t.use(o.json());t.post("/event",(e,c)=>{p.emit("event",e.body),c.send(!0)});r.listen(54331);
